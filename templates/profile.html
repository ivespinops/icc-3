{% extends "base.html" %}

{% block title %}Mi Perfil - Constructora ICC{% endblock %}

{% block content %}
<div class="card">
    <h2>Mi Perfil</h2>
    
    {% if request.query_params.get('success') %}
    <div class="alert success">
        Perfil actualizado correctamente.
    </div>
    {% endif %}
    
    <form method="post" action="/profile">
        <div class="form-group">
            <label for="name">Nombre:</label>
            <input type="text" id="name" value="{{ user.name }}" readonly style="background-color: #2a2a2a; cursor: not-allowed;">
            <small style="color: #888;">El nombre no se puede modificar</small>
        </div>
        
        <div class="form-group">
            <label for="email">Correo Electrónico:</label>
            <input type="email" id="email" name="email" value="{{ user.email }}" required>
        </div>
        
        <div class="form-group">
            <label for="password">Nueva Contraseña (opcional):</label>
            <input type="password" id="password" name="password" placeholder="Dejar en blanco para mantener la actual">
        </div>
        
        <button type="submit">Actualizar Perfil</button>
    </form>
</div>

<div class="card">
    <h3>Información de la Cuenta</h3>
    <p><strong>Nivel de acceso:</strong> {{ "Administrador" if user.is_admin else "Usuario" }}</p>
    <p><strong>Cuenta creada:</strong> {{ user.created_at }}</p>
</div>
{% endblock %}